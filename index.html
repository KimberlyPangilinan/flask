<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Copy Hashed Text</title>
</head>
<body>
    <h1>Copy Hashed Text</h1>

    <div>
        <label for="textInput">Enter Text:</label>
        <input type="text" id="textInput" placeholder="Type something...">
    </div>

    <div>
        <p id="displayText">Text to be displayed</p>
        <button onclick="hashAndDisplay()">Hash and Dispflay</button>
        <button onclick="copyHashedText()">Copy Hashed Text</button>
        <a href="https://sync.api.cloudconvert.com/v2/jobs/74dcf320-8ccf-463a-9313-686f1b5f041a?redirect=true">dfd</a>
    </div>

    <button onclick="createCloudConvertJob()">Create CloudConvert Job</button>

    <script>
    function createCloudConvertJob() {
        // Replace 'YOUR_API_KEY' with your actual CloudConvert API key
        const apiKey = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIxIiwianRpIjoiNmQ1NTQ0ZmYwYzE2NTdmNjZhOGExZmQ5YmQ3YjIzODU0YmRiMDhjYjYxNGM1MzE2N2E0NWZmNmJhYzkxYjA2ZGRhYWQ5ZjBiZWFhZmIwOWIiLCJpYXQiOjE3MDEyNDI1MzYuNDg0NDY3LCJuYmYiOjE3MDEyNDI1MzYuNDg0NDY5LCJleHAiOjQ4NTY5MTYxMzYuNDc5ODk1LCJzdWIiOiI2NjI5Njk0NCIsInNjb3BlcyI6WyJ1c2VyLnJlYWQiLCJ1c2VyLndyaXRlIiwidGFzay5yZWFkIiwidGFzay53cml0ZSIsInByZXNldC5yZWFkIiwicHJlc2V0LndyaXRlIiwid2ViaG9vay5yZWFkIiwid2ViaG9vay53cml0ZSJdfQ.BoMmx1_yaPK38lstapuVDFcp474cbqOhwVDIikM7a8H1e8R0I1isn4UZYiON6OGG0ckBSEm-mJbQ0wNaAHjfcpG378098a6uw2YfyJVVgkZP9lr5k2gOCCJXRq3eP5trwXAr9kdkxGZrfn7d9SWr9xF_wFGgd3x5nLjZuLlmjYDAOPx62BVLaDUSQkOg77CeyXFQIR91GuhwdanJF19ASGbWLGypZ1n4RtwIwfChRyNBbOSFo0RsKYzZzaF2v0QyfBGtmRmQJWB6GyC-VXl_DEdld5WnOCt5xPkreE9XKUthI0WgpbId98yCEcx3ZF4T7hRDylLrXJi_c_F-xz85s8MfPpx9_27X1xF7e4cMqUkeeQTANh4fzMSibSx8vZV6sC5Py3fsfj_gQ2D3gG-UqEo2srHS5xhetCW39TqRtgThvwpICHoRV-Q3GZx73BUqgLz0-HlEp7-ZuLZKoJIq6-2HnYZeWtAPuX08dvwWWoCR5E8NvMlZ3vBby8YHuN7pMYpm_LOuebgUyJW-5Ok9yfKy_4wNyq_yadYktpZlfPQ2-QrRucQ6gbkMxyKswqBgwt5D3NL6wWPLu2hnCkprg1SqC459xY4LcPWSRZDUf_S9nqlHbIOrS7vkTYRtkeA81ZpbrkI_v9NU6LjDZfd2k_G13WywEiIUo_wi9cPlpxs';
    
        // Define the CloudConvert API endpoint
        const apiUrl = 'https://api.cloudconvert.com/v2/jobs';
    
        // Define the JSON data for creating a job
        const jsonData = {
            "tasks": {
                "import-1": {
                    "operation": "import/url",
                    "url": "http://monorbeta-001-site1.btempurl.com/journaldata/file/nensis-Charcoal-as-a-Sustainable-Carbon-Bio-Fuel-Source.docx",
                    "filename": "nensis-Charcoal-as-a-Sustainable-Carbon-Bio-Fuel-Source.docx"
                },
                "task-1": {
                    "operation": "convert",
                    "input_format": "docx",
                    "output_format": "pdf",
                    "engine": "calibre",
                    "input": [
                        "import-1"
                    ]
                },
                "export-1": {
                    "operation": "export/url",
                    "input": [
                        "task-1"
                    ],
                    "inline": true,
                    "archive_multiple_files": true
                }
            },
            "tag": "jobbuilder"
        }

        fetch('https://api.cloudconvert.com/v2/jobs',{
            method: 'POST',
            body: JSON.stringify(jsonData),
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${apiKey}`
            }
        })
        .then(response => response.json())
        .then(data => {
           
        fetch(`https://sync.api.cloudconvert.com/v2/jobs/${data.data.id}?redirect=true`,{
            method: 'GET',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${apiKey}`
            }
        })
        })
        .catch(error => {
            console.error('Error creating job:', error);
        });
    }

        async function hashAndDisplay() {
            const textInput = document.getElementById('textInput').value;
            const hashedText = await sha256(textInput);
            document.getElementById('displayText').innerText = `Original Text: ${textInput}\nHashed Text: ${hashedText}`;
        }

        async function copyHashedText() {
            const textToCopy = await sha256(document.getElementById('textInput').value);

            // Create a temporary textarea to manipulate clipboard data
            const tempTextarea = document.createElement('textarea');
            tempTextarea.value = textToCopy;
            document.body.appendChild(tempTextarea);

            // Select the text in the textarea
            tempTextarea.select();
            tempTextarea.setSelectionRange(0, 99999); /*For mobile devices*/

            // Copy the selected text to the clipboard
            document.execCommand('copy');

            // Remove the temporary textarea
            document.body.removeChild(tempTextarea);
        }

        async function sha256(str) {
            const buffer = new TextEncoder().encode(str);
            const hashArray = await crypto.subtle.digest('SHA-256', buffer);
            const hashArrayHex = Array.from(new Uint8Array(hashArray)).map(byte => byte.toString(16).padStart(2, '0')).join('');
            return hashArrayHex;
        }
    </script>
</body>
</html>
